# 课设

### 功能

1. 私聊
2. 群聊

### 实现
1. 服务端：
    * 接收到客户端的登录要求，把websocket和用户名作为KEY-VALUE存起来
    * 接受到客户端的消息，判断接收者
        * 如果是另一个UID，拿到对应的websocket，然后把消息传进去
        * 如果是“@group_001”
    * 群消息队列：
        * 每隔1s，检查消息队列有没有消息
        * 如果有，消费一条消息，并把消息发到所有客户的websocket里
    * 如果有新用户登录
        * 向全体用户发送最新的用户数组

    * 用户UID：用户名
    * 群ID：`@group_001`

2. 消息组成
    * 消息内容
    * 发送者ID
    * 接收者ID

3. 客户端
    * 发送登陆请求
    * 发送消息
    * 接收消息
        * 如果接收到消息，到对应的view里绘制界面

4. 实现流程